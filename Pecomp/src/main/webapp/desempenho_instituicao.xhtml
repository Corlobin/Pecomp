<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">  
 
    <h:body>  
 
		<ui:composition template="templates/template_page.xhtml">          
			<ui:define name = "titulo_menu"> 
				Desempenho por Instituição
			</ui:define>
			
			<ui:define name="content">
				<p:panel id="panel" header="Analisar desempenho por Instituição">
				        <p:messages id="messages" />
				        
				        <h:form>
					        <h:panelGrid columns="2" cellpadding="5">
					            <h:outputLabel for="instituicao" value="Selecione uma Instituição para verificar seu desempenho:" />
								<p:selectOneMenu id="instituicao" value="#{desempenhoInstituicaoBean.idInstituicaoSelecionada}" style="width:150px">
					                <f:selectItem itemLabel="Selecione" itemValue="" noSelectionOption="true" />
					                <f:selectItems value="#{desempenhoInstituicaoBean.listInstituicao}" var="i" itemLabel="#{i.nome}" itemValue="#{i.id}" />
					            </p:selectOneMenu>
					            <p:commandButton value="Analisar" id="nonAjax"
							actionListener="#{desempenhoInstituicaoBean.buscarGraficoPorInstituicao}"
							ajax="false" update="panel" />
					        </h:panelGrid>
				        </h:form>
				        
				        <p:spacer height="25"/>
				        
			            <p:panel>
				            <h:panelGrid columns="2" columnClasses="left,right" style="width:100%">
							    <p:chart type="bar" model="#{desempenhoInstituicaoBean.animatedModel1}" style="width:400px;" />
							    <p:chart type="line" model="#{desempenhoInstituicaoBean.graficoInstituicao}" style="width:400px;" rendered="#{desempenhoInstituicaoBean.selecaoAtiva eq true}"/>
							</h:panelGrid>
			            </p:panel>
			            
			            
			    </p:panel>
				
 			</ui:define>
			
   		</ui:composition>
    		
        
    </h:body>  
</html>